<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<button>Create Leak</button>
<div class="events"></div>
<script>
    function onClick() {
        var events = document.querySelector('.events');
        var event;
        events.innerHTML = '';

        for (var i = 0; i < 100; i++) {
            event = document.createElement('div');
            event.innerHTML = new Date().getTime() + ' : ' + i;

            window.addEventListener('custom_event', function () {
                console.log(event.innerHTML);
            }, false);

            events.appendChild(event);
        }
    }

    document.querySelector('button').addEventListener('click', onClick, false);
</script>
</body>
</html>